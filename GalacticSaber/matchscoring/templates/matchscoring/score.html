<!DOCTYPE html>
<html>
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="style.css" type="text/css">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
  
  <title>Galactic Saber Match Scoring</title>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
    * {
      box-sizing: border-box;
      margin: 0%;
    }
    .scoreButton {
      background-color: #000000;
      color: white;
      font-size: 2vw;
      border-width: 1px;
      border-style: solid;
      border-color: white;
      height: 25%;
      width: 100%;
    }
    .column {
      float: left;
      width: 18.75%;
      height: 100vh;
      background-color: #4D578E;
    }
    .scoreColumn {
      float: left;
      width: 18.75%;
      height: 100vh;
      padding-right: 1vw;
      padding-left: 1vw;
      background-color: #000000;
      color: lavender;
    }
    .middleColumn {
      float: left;
      width: 25%;
      height: 100vh;
    }
    .row {
      height: 100vh;
      width: 100vw;
      margin-left: auto;
      margin-right: auto;
      display: table;
      clear: both;
    }
    /* .imageMinus {
      background-image: url("/static\matchscoring\images\buttonPause.png");
      background-repeat: no-repeat;
      background-size: 10vw;
      alt: "-";
    } */
    .bigText {
      margin-top: 0%;
      text-align: center;
      font-family: Impact, Haettenschweiler, 'Arial Narrow Bold', sans-serif;
      font-size: 18vh;
      color: #7e3e98;
    }
    .playerTag {
      position: relative;
      margin-top: 0%;
      padding-top: 5vh;
      padding-bottom: 5vh;
      width: 100%;
      background-color: #b7b7b7;
      color: #000000;
      text-align: center;
      font-size: 3.6vw;
      font-family: Comic Sans MS;
    }
    .plusMinusButton {
      height: 15%;
      width: 48%;
      margin-bottom: 3vh;
    }
  </style>
</head>
<body>
  <div class="row">
    <div class="scoreColumn">
      <div class="scoreButton" style="border-color: #000000;"><h1 id="p1score" class="bigText" style="position:relative; top: 10%;">00</h1></div>
      <button type="button" id="p15" onclick="p1Plus(5)" class="btn btn-primary scoreButton">Head or Torso</button>
      <button type="button" id="p13" onclick="p1Plus(3)" class="btn btn-primary scoreButton">Arms or Legs</button>
      <button type="button" id="p11" onclick="p1Plus(1)" class="btn btn-primary scoreButton">Hands or Hilt </button>
    </div>

    <div class="column" id="column">
      <h2 class="playerTag">Player One</h2>
      <button type="button" onclick="p1Plus(-1)" class="btn btn-primary plusMinusButton"></button>
      <button type="button" onclick="p1Plus(1)" class="btn btn-primary plusMinusButton"> </button>
      
      <!-- heres the foul code -->
      <div class="dropup" style=" width:100%; height: 68vh; position:relative; bottom: 1vh;">
        <div class="panel" id="fouls" data-toggle="collapse" href="#collapse2" style="background-color:#7e3e98;">
          <div class="panel-heading">
            <h4 class="panel-title" style="text-align: center;">
              <p class="text" id="foulsText" style="font-family: Comic Sans MS; color: black;">Fouls</p>
            </h4>
          </div>
          <div id="collapse2" class="panel-collapse collapse">
            <ul class="list-group">
              <a href="#" class="list-group-item" style="background-color: white; height:14vh;"></a>
              <a href="#" class="list-group-item" style="background-color: yellow; height:14vh;"></a>
              <a href="#" class="list-group-item" style="background-color: red; height:14vh;"></a>
              <a href="#" class="list-group-item" style="background-color: black; height:14vh;"></a>
            </ul>
          </div>
        </div>
      </div>
      
    </div>
    
    <div class="middleColumn" id="middleColumn" style="background-color:#212c68;">

      <!-- Timer Code Goes Here -->
        <div style="width: 25%; height:40vh; background-color: #000000; position: absolute; top: 0px">
          <span><h3 id="mins" style="font-family: Impact; font-size: 4em; color:#7e3e98; text-align: center;">03:</h3></span>
          <span><h3 id="seconds" style="font-family: Impact; font-size: 4em; color:#7e3e98; text-align: center;">00</h3></span>
          <button id="start" class="btn btn-primary" style="position: relative; float: left; width: 50%;"></button>
          <button id="stop" type="button" class="btn btn-primary" style="position: relative; width: 50%;"></button> 
        </div>

          <br> 
          <br> 
          <br> 
      <img src="\static\matchscoring\images\GSLogo.png" alt="gsLogo" id="gsLogo" style="position: relative; top:40%; border-style: solid; border-color: white; width: 100%;">
      <h1 id="SuddenDeath" style="font-family: Impact; font-size: 4em; color: red; text-align: center; display: none; position: absolute; bottom:60vh">SUDDEN  <br> DEATH</h1>
      <button type="reset" id="reset" class="btn btn-primary" style="font-family:Impact; background-color: #666666;">End</button>
    

    </div>

    <div class="column" id="column2" style="background-color:#4D578E;">
      <h2 class="playerTag"">Player Two</h2>

      <button type="button" onclick="p2Plus(1)" class="btn btn-primary plusMinusButton"> <img src="/static\matchscoring\images\image.png" alt="+1"></button>
      <button type="button" onclick="p2Plus(-1)" class="btn btn-primary plusMinusButton"> <img src="/static\matchscoring\images\image.png" alt="-1"></button>
      
      <!-- heres the foul code -->
      <div class="dropup" style=" width:100%; top: 10px;">
        <div class="panel" id="fouls2" data-toggle="collapse" href="#collapse1" style="background-color:#7e3e98;">
          <div class="panel-heading">
            <h4 class="panel-title" style="text-align: center;">
              <p class="text" id="fouls2Text" style="font-family: Comic Sans MS; color: black;">Fouls</p>
            </h4>
          </div>
          <div id="collapse1" class="panel-collapse collapse">
            <ul class="list-group">
              <a href="#" class="list-group-item" style="background-color: white; height:14vh;"></a>
              <a href="#" class="list-group-item" style="background-color: yellow; height:14vh;"></a>
              <a href="#" class="list-group-item" style="background-color: red; height:14vh;"></a>
              <a href="#" class="list-group-item" style="background-color: black; height:14vh;"></a>
            </ul>
          </div>
        </div>
      </div>
    </div>
    
    <div class="scoreColumn" style="background-color:rgb(0, 0, 0);
    color:lavender">
      <h1 id="p2score" style="text-align: center; font-family: Impact; font-size: 4em; color: #7e3e98;">00</h1>

      <button type="button" id="p25" onclick="p2Plus(5)" class="btn btn-primary scoreButton" style="height: 25%; width: 100%; ">Head or Torso</button>
      <button type="button" id="p23" onclick="p2Plus(3)" class="btn btn-primary scoreButton" style="height: 25%; width: 100%; ">Arms or Legs</button>
      <button type="button" id="p21" onclick="p2Plus(1)" class="btn btn-primary scoreButton" style="height: 25%; width: 100%; ">Hands or Hilt </button>

    </div>
  </div>

  <script>
    // var fontize = $("#title").css("font-size");
    // var i = 0/*remove unit from integer*/
    // while($("#container").find("span").width() > $("#container").width()) {
    // var currentFontSize = parseInt($("#container").find("span").css("font-size")); 
    // $("#container").find("span").css("font-size",currentFontSize-1); 
    // }

    // Start of ScoreKeeping Code
    var playerOneScore=00
    var playerTwoScore=00
    function p1Plus(amount) {
        playerOneScore+= amount;
        // if/else here helps to always keep the display two digits,
        if ((playerOneScore < 10) && (playerOneScore >= 0)) {
          document.getElementById('p1score').innerHTML= "0" + playerOneScore;
        }
        else {
          document.getElementById('p1score').innerHTML= playerOneScore;
        }
        suddenDeathCheck()
    }
    function p2Plus(amount) {
        playerTwoScore+= amount;
        // if/else here helps to always keep the display two digits
        if ((playerTwoScore < 10) && (playerTwoScore >= 0)) {
          document.getElementById('p2score').innerHTML= "0" + playerTwoScore;
        }
        else {
          document.getElementById('p2score').innerHTML= playerTwoScore;
        }
        suddenDeathCheck()
    }
    function winCheck() {
      if (playerOneScore >= 15) {
        alert("Player One Wins!")
      }
      if (playerTwoScore >= 15) {
        alert("Player Two Wins")
      }
    }
    function suddenDeathCheck() {
        if (((playerOneScore >= 10) && (playerTwoScore >= 10)) || ((mins==0) && (seconds==0))) {
          document.getElementById("SuddenDeath").style.display="inline";
          document.getElementById("gsLogo").style.display="none";
          document.getElementById("p1score").style.color="red";
          document.getElementById("p2score").style.color="red";
          document.getElementById("mins").style.color="red";
          document.getElementById("seconds").style.color="red";
          document.getElementById("foulsText").style.color="red";
          document.getElementById("fouls2Text").style.color="red";
          document.getElementById("column").style.backgroundColor="red";
          document.getElementById("column2").style.backgroundColor="red";
          document.getElementById("fouls").style.backgroundColor="black";
          document.getElementById("fouls2").style.backgroundColor="black";
          document.getElementById("middleColumn").style.backgroundColor="black";
          document.getElementById("p13").disabled=true;
          document.getElementById("p23").disabled=true;
          document.getElementById("p11").disabled=true;
          document.getElementById("p21").disabled=true;
        }
    }



    // End of ScoreKeeping Code
 
    // Timer Code
  
  var mins =3;
  var seconds =0;
  $('#start').click(function(){
    startTimer();
  });

  $('#stop').click(function(){
        clearTimeout(timex);
        clearTimeout(timex);
        clearTimeout(timex);
  });
  
  $('#reset').click(function(){
    
    clearTimeout(timex);
    clearTimeout(timex);
    clearTimeout(timex);
    
      mins =3;      
      seconds =0;
      playerOneScore = 0;
      playerTwoScore = 0;

      
    $('#mins').html('03:');
    $('#seconds').html('00');
    $('#p1score').html('00');
    $('#p2score').html('00');

  });

  // everytime this function runs: seconds goes down by one, then it calls itself again
  function startTimer(){ 
    clearInterval(startTimer);
    
    timex = setTimeout(function(){
      seconds--;
      if(seconds < 0) {
        seconds=59; // converts one minute to 60 seconds
        mins--;     
        if(mins<0) { // doesn't run?
          mins=0;hours--;
          clearTimeout(timex);
          clearTimeout(timex);
          clearTimeout(timex);
        }
        if(mins<10) {
          $("#mins").text('0'+mins+':'); // changes display
        }
        else {
          $("#mins").text(mins+':'); // changes display
        }
      }
      if(seconds <10) {
        $("#seconds").text('0'+seconds); // changes display
      } 
      else {
        $("#seconds").text(seconds); // changes display
      }
  
        startTimer(); // calls itself to ensure timer keeps running
    },1000); // delay between calling itself again
  }

  </script>
  
</body>
</html>
